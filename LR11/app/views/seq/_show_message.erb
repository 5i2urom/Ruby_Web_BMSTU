<% if @record.valid? or @record.errors.added? :str, 'has already been taken' %>  
    <% if @record.count>0 %>
        <p>Все отрезки:</p>
        <table border=1>
            <tr>            
                <td>
                    №
                </td> 
                <td>
                    отрезок 
                </td>                   
            </tr>
            <% adder=0%>   
            <% @record.result.each do |stroka| %>    
                <tr>            
                    <td>
                        <%= adder+=1%>
                    </td> 
                    <td>
                    <center> <%= stroka %>  </center> 
                    </td>                   
                </tr>
            <% end %>
        </table>

        <p> Самый длинный отрезок:</p>
        <div id='longest'>
            <%= @record.longest %> 
        </div>

        <p> Количество отрезков:</p>
        <div id='count'> <%= @record.count %> </div>
        <br><br>

    <% else %>
    В последовательности нет совершенных чисел
    <% end %>

<% else %>
 <h2>Ошибки ввода:</h2>
  <ul>
    <% @record.errors.each do |error| %>
      <li><%= error.full_message %></li>
    <% end %>
  </ul>
<% end %>